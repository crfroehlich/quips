{"ts":1376786884121,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1376786917349,"patch":[[{"diffs":[[1,"name:          Quips\r\ndescription:   Displays a random Quip every page load.\r\nauthor:        Christopher Froehlich\r\nversion:       1.0.0.3\r\ndate:          1/9/2012\r\n\r\njs:\r\n\r\n(function() {\r\n   //Change these to match your environment\r\n   var quipsWikiId = '466';\r\n   var quipsTableId = 'ChemSW_Quips_Div';\r\n   var messageBarTableId = 'CswQuipsTableBody';\r\n   //A table to display in the messageBar div.\r\n   var $quipsDiv = $('<div class=\"messageBar\"><table class=\"Basic messageBar\"><tbody id=\"' + messageBarTableId + '\"><tr><td>&nbsp;</td></tr></tbody></table></div>')\r\n                       .appendTo('#tbFull');\r\n   //get the Table body we just created\r\n   var $randomQuip = $quipsDiv.find('#' + messageBarTableId);\r\n   var $tempDiv = $('<div />');   \r\n   //load the wiki page. This hasn't been appended to the DOM yet, so it's OK that we have the entire page content.\r\n   \r\n   $tempDiv.load('default.asp?pg=pgWiki&ixWikiPage=' + quipsWikiId + '#' + quipsTableId, function(wikiPage) { \r\n       //Get the quips table body\r\n       var $quipTable = $(wikiPage).find('#' + quipsTableId);\r\n       makeRandomQuip($quipTable, $randomQuip);\r\n   });\r\n   \r\n   function makeRandomQuip($quipTable, $randomQuip) {\r\n       //get a random row from the table\r\n       var quip = $quipTable.find('tr').get().sort(function(){ \r\n           return Math.round(Math.random())-0.5\r\n       }).slice(0,1);\r\n       //create an add new cell\r\n       $(quip).append($('<td>&nbsp;<a href=\"default.asp?pg=pgWiki&ixWikiPage=' + quipsWikiId + '&command=edit\">Add new quip&nbsp;</a></td>'));\r\n       //empty and append\r\n       $randomQuip.empty();\r\n       $randomQuip.append( quip ); \r\n   }    \r\n}());\r\n\r\n\r\ncss:\r\n\r\n/* body { background-color: red !important; } */"]],"start1":0,"start2":0,"length1":0,"length2":1730}]],"length":1730,"saved":false}
